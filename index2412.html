<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>KadÄ±n Kahramanlar HaritasÄ±</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- AÃ‡ILIÅ -->
<div id="intro">
  <button id="startBtn">â–¶ TanÄ±tÄ±m Videosunu BaÅŸlat</button>
  <video id="introVideo" controls>
    <source src="video/giris_maskotu.mp4" type="video/mp4">
  </video>
</div>

<!-- HARÄ°TA -->
<div id="mapContainer">
  <div id="badgeCounter">ğŸ… Rozetler: <span id="badgeCount">0</span>/12</div>

  <img src="harita.jpeg" class="map-image">

  <!-- ÅERÄ°FE BACI -->
  <div class="hero-wrapper" style="top:30%; left:48%;" onclick="openVideo('video/serife_baci.mp4','serife')">
    <img src="images/serife_baci.jpg" class="hero-marker" title="Åerife BacÄ±">
  </div>

  <!-- KARA FATMA -->
  <div class="hero-wrapper" style="top:36%; left:38%;" onclick="openVideo('video/kara_fatma.mp4','kara')">
    <img src="images/kara_fatma.jpg" class="hero-marker" title="Kara Fatma">
  </div>

  <!-- TAYYAR RAHMÄ°YE -->
  <div class="hero-wrapper" style="top:63%; left:53%;" onclick="openVideo('video/tayyar_rahmiye.mp4','tayyar')">
    <img src="images/tayyar_rahmiye.jpg" class="hero-marker" title="Tayyar Rahmiye">
  </div>

  <!-- NEZAHAT ONBAÅI -->
  <div class="hero-wrapper" style="top:38%; left:46%;" onclick="openVideo('video/nezahat_onbasi.mp4','nezahat')">
    <img src="images/nezahat_onbasi.jpg" class="hero-marker" title="Nezahat OnbaÅŸÄ±">
  </div>

  <!-- GÃ–RDESLÄ° MAKBULE -->
  <div class="hero-wrapper" style="top:48%; left:36%;" onclick="openVideo('video/gordesli_makbule.mp4','makbule')">
    <img src="images/gordesli_makbule.jpg" class="hero-marker" title="GÃ¶rdesli Makbule">
  </div>

  <!-- HALÄ°DE EDÄ°P -->
  <div class="hero-wrapper" style="top:32%; left:33%;" onclick="openVideo('video/halide_edip.mp4','halide')">
    <img src="images/halide_edip.jpg" class="hero-marker" title="Halide Edip AdÄ±var">
  </div>

  <!-- SAFÄ°YE ALÄ° -->
  <div class="hero-wrapper" style="top:34%; left:31%;" onclick="openVideo('video/safiye_ali.mp4','safiye')">
    <img src="images/safiye_ali.jpg" class="hero-marker" title="Safiye Ali">
  </div>

  <!-- NEZÄ°HE MUHÄ°DDÄ°N -->
  <div class="hero-wrapper" style="top:30%; left:35%;" onclick="openVideo('video/nezihe_muhiddin.mp4','nezihe')">
    <img src="images/nezihe_muhiddin.jpg" class="hero-marker" title="Nezihe Muhiddin">
  </div>

  <!-- HALÄ°ME Ã‡AVUÅ -->
  <div class="hero-wrapper" style="top:26%; left:46%;" onclick="openVideo('video/halime_cavus.mp4','halime')">
    <img src="images/halime_cavus.jpg" class="hero-marker" title="Halime Ã‡avuÅŸ">
  </div>

  <!-- AFET Ä°NAN -->
  <div class="hero-wrapper" style="top:44%; left:50%;" onclick="openVideo('video/afet_inan.mp4','afet')">
    <img src="images/afet_inan.jpg" class="hero-marker" title="Afet Ä°nan">
  </div>

  <!-- SATI KADIN -->
  <div class="hero-wrapper" style="top:46%; left:52%;" onclick="openVideo('video/sati_kadin.mp4','sati')">
    <img src="images/sati_kadin.jpg" class="hero-marker" title="SatÄ± KadÄ±n">
  </div>

  <!-- SABÄ°HA GÃ–KÃ‡EN -->
  <div class="hero-wrapper" style="top:42%; left:51%;" onclick="openVideo('video/sabiha_gokcen.mp4','sabiha')">
    <img src="images/sabiha_gokcen.jpg" class="hero-marker" title="Sabiha GÃ¶kÃ§en">
  </div>
</div>

<!-- VÄ°DEO -->
<div id="videoModal" onclick="closeVideo()">
  <video id="heroVideo" controls></video>
</div>

<!-- SORU -->
<div id="questionModal">
  <div id="qCard">
    <h2 id="questionText"></h2>
    <div id="answers"></div>
    <p id="feedback"></p>
    <img src="rozet.jpeg" id="badge">
    <button id="backBtn" onclick="closeQuestion()">Haritaya DÃ¶n</button>
  </div>
</div>

<!-- FINAL -->
<div id="finalScreen">
  <img src="son_rozet.png" alt="Final Rozet">
  <h1>ğŸ‰ Tebrikler!</h1>
  <p>TÃ¼m KadÄ±n KahramanlarÄ± baÅŸarÄ±yla tamamladÄ±n.</p>
</div>

<script>
/* ========= Intro ========= */
const intro = document.getElementById("intro");
const introVideo = document.getElementById("introVideo");
const startBtn = document.getElementById("startBtn");
const map = document.getElementById("mapContainer");

startBtn.onclick = () => {
  startBtn.style.display = "none";
  introVideo.style.display = "block";
  introVideo.play();
};

introVideo.onended = () => {
  intro.style.display = "none";
  map.style.display = "block";
};

/* ========= Questions ========= */
const questions = {
  serife:{ q:"Åerife BacÄ±, Milli MÃ¼cadeleâ€™de hangi gÃ¶revi yapmÄ±ÅŸtÄ±r?", a:["Cepheye cephane taÅŸÄ±mÄ±ÅŸtÄ±r","Sadece evlerde yemek yapmÄ±ÅŸtÄ±r"], c:0 },
  kara:{ q:"Kara Fatma savaÅŸta hangi rolÃ¼ Ã¼stlenmiÅŸtir?", a:["Milis birliÄŸi komutanlÄ±ÄŸÄ± yapmÄ±ÅŸtÄ±r","Sadece hastanelerde Ã§alÄ±ÅŸmÄ±ÅŸtÄ±r"], c:0 },
  tayyar:{ q:"Tayyar Rahmiye neden â€œTayyarâ€ lakabÄ±yla anÄ±lmÄ±ÅŸtÄ±r?", a:["GÃ¶revlerinde Ã§ok hÄ±zlÄ± ve cesur davrandÄ±ÄŸÄ± iÃ§in","UÃ§ak kullandÄ±ÄŸÄ± iÃ§in"], c:0 },
  makbule:{ q:"GÃ¶rdesli Makbule Milli MÃ¼cadeleâ€™de ne yapmÄ±ÅŸtÄ±r?", a:["EÅŸiyle birlikte daÄŸlarda Ã§ete savaÅŸlarÄ±na katÄ±lmÄ±ÅŸtÄ±r","SavaÅŸ boyunca Ã¶ÄŸretmenlik yapmÄ±ÅŸtÄ±r"], c:0 },
  halime:{ q:"Halime Ã‡avuÅŸ neden erkek kÄ±lÄ±ÄŸÄ±na girmiÅŸtir?", a:["Cephede gÃ¶rev alabilmek iÃ§in","Tiyatro oyunu oynamak iÃ§in"], c:0 },
  nezahat:{ q:"Nezahat OnbaÅŸÄ± hangi yaÅŸta cephede gÃ¶rev almÄ±ÅŸtÄ±r?", a:["Ã‡ok kÃ¼Ã§Ã¼k yaÅŸta, Ã§ocuk denecek yaÅŸta","40 yaÅŸÄ±ndayken"], c:0 },
  safiye:{ q:"Safiye Ali kimdir?", a:["TÃ¼rkiyeâ€™nin ilk kadÄ±n doktorudur","Ä°lk kadÄ±n avukattÄ±r"], c:0 },
  halide:{ q:"Halide Edip 1919â€™da hangi Ã¶nemli olayÄ± gerÃ§ekleÅŸtirmiÅŸtir?", a:["Sultanahmet Mitingiâ€™nde konuÅŸma yapmÄ±ÅŸtÄ±r","Ä°lk kadÄ±n pilot olarak uÃ§muÅŸtur"], c:0 },
  nezihe:{ q:"Nezihe Muhiddin hangi alanda Ã¶ncÃ¼dÃ¼r?", a:["KadÄ±n haklarÄ± ve siyasal Ã¶rgÃ¼tlenme alanÄ±nda","Sporculuk alanÄ±nda"], c:0 },
  afet:{ q:"Afet Ä°nan hangi alanda Ã§alÄ±ÅŸmalarÄ±yla bilinir?", a:["Tarih ve sosyoloji alanÄ±nda","Kimya alanÄ±nda"], c:0 },
  sati:{ q:"SatÄ± KadÄ±n hangi gÃ¶revle tanÄ±nÄ±r?", a:["Ä°lk kadÄ±n milletvekillerinden biri olmasÄ±yla","Ä°lk kadÄ±n hemÅŸire olmasÄ±yla"], c:0 },
  sabiha:{ q:"Sabiha GÃ¶kÃ§en kimdir?", a:["DÃ¼nyanÄ±n ilk kadÄ±n savaÅŸ pilotlarÄ±ndan biridir","Ä°lk kadÄ±n milletvekilidir"], c:0 }
};

let currentHero = "";
let badgeCount = 0;
const TOTAL_HEROES = 12;
const solved = new Set();

/* ========= Video Flow ========= */
function openVideo(src, hero){
  const img = document.querySelector(`.hero-wrapper[onclick*="${hero}"] img`);
  if(img && img.classList.contains("done")){
    alert("âœ… Bu kahramanÄ±n gÃ¶revini zaten tamamladÄ±n!");
    return;
  }

  currentHero = hero;
  const modal = document.getElementById("videoModal");
  const video = document.getElementById("heroVideo");
  modal.style.display = "flex";
  video.src = src;
  video.play();
  video.onended = showQuestion;
}

function closeVideo(){
  const modal = document.getElementById("videoModal");
  const video = document.getElementById("heroVideo");
  video.pause();
  video.src = "";
  modal.style.display = "none";
}

/* ========= Question Flow ========= */
function showQuestion(){
  closeVideo();
  const q = questions[currentHero];
  if(!q) return;

  document.getElementById("questionText").innerText = q.q;
  const ans = document.getElementById("answers");
  ans.innerHTML = "";

  q.a.forEach((t,i)=>{
    const b = document.createElement("button");
    b.className = "ansBtn";
    b.innerText = t;
    b.onclick = ()=>checkAnswer(i);
    ans.appendChild(b);
  });

  document.getElementById("feedback").innerText = "";
  document.getElementById("badge").style.display = "none";
  document.getElementById("questionModal").style.display = "flex";
}

function checkAnswer(i){
  const q = questions[currentHero];
  const buttons = document.querySelectorAll(".ansBtn");
  buttons.forEach(btn=>btn.classList.remove("correct","wrong"));

  if(i === q.c){
    buttons[i].classList.add("correct");

    const img = document.querySelector(`.hero-wrapper[onclick*="${currentHero}"] img`);
    if(img) img.classList.add("done");

    if(!solved.has(currentHero)){
      solved.add(currentHero);
      badgeCount++;
      document.getElementById("badgeCount").innerText = badgeCount;
    }

    document.getElementById("feedback").innerText = "ğŸ‰ Harika! Bir rozet kazandÄ±n!";
    document.getElementById("badge").style.display = "block";

    if(badgeCount === TOTAL_HEROES){
      setTimeout(()=>{
        document.getElementById("questionModal").style.display = "none";
        showFinalScreen();
      }, 900);
    }
  }else{
    buttons[i].classList.add("wrong");
    document.getElementById("feedback").innerText = "âŒ YanlÄ±ÅŸ, tekrar dene";
  }
}

function closeQuestion(){
  document.getElementById("questionModal").style.display = "none";
}

/* ========= Final ========= */
function showFinalScreen(){
  document.getElementById("finalScreen").style.display = "flex";
}
</script>

</body>
</html>

